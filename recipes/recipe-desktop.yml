---
# yaml-language-server: $schema=https://schema.blue-build.org/recipe-v1.json
name: vedaos
description: This is my personal OS image.
base-image: ghcr.io/ublue-os/bluefin-dx-nvidia-open
image-version: gts

modules:
  - type: dnf
    repos:
      cleanup: true
      files:
        - https://repository.mullvad.net/rpm/stable/mullvad.repo
        - vscodium.repo
      keys:
        - https://gitlab.com/paulcarroty/vscodium-deb-rpm-repo/-/raw/master/pub.gpg
    install:
      packages:
        - android-tools
        - rclone
        - mullvad-vpn
        - codium

  - type: default-flatpaks
    configurations:
      - notify: false
        scope: system
        repo:
          title: Flathub (system)
        install:
          - io.podman_desktop.PodmanDesktop

  - type: files
    files:
      - source: system_files/desktop
        destination: /

  - type: script
    snippets:
      - "dnf5 clean all"

  - type: systemd
    system:
      enabled:
        - mullvad-daemon.service
        - tailscaled.service

  - type: signing
